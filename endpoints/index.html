<!--TEMPLATE mustache-->
{{% partial /_layout }}

{{< layout}}

{{$title}}Endpoints{{/title}}

{{$content}}

<article>
    <header>
        <h1>Endpoint Overview</h1>

        <p>
           Learn how to structure files and folders into REST endpoints and views.
        </p>
    </header>

    <section>
        <p>
        Files and folders in your source code closely match the
        resulting RESTful paths and endpoints.
        </p>

        <p>
        The main types of endpoints supported include
        <a href="/endpoints/js">Server-Side JavaScript</a>,
        <a href="/endpoints/mustache">Mustache HTML Views</a>,
        and
        <a href="/endpoints/assets">assets (images and SASS/SCSS)</a>
        </p>
    </section>

    <section>
        <h2><a name="dynamic">Dynamic Paths</a></h2>

        <p>
            In many cases with data-driven content, URLs are dynamic &dash;
            they are backed by a model field, such as its ID, or other
            unique field.  To indicate that part of an endpoint path
            is dynamic, use a named placeholder:
        </p>

        <p>
            <code>/article/{article}/index.html</code>
        </p>

        <p>
            By itself this is invalid.
            Next tell Stacklane the types of values allowed for this dynamic parameter.
            Drop a settings file into <code>/article/{article}/ðŸ”—.yaml</code>.
            This settings file indicates how the dynamic parameter <code>{article}</code>
            is translated into an actual value.
        </p>

        <p>
            For the value in this settings file, choose <b>one</b> of the following options:
        </p>

        <h3>Model-Backed Dynamic Paths</h3>

        <p>
            A single model field may be referenced.
            The field may be the model's unique ID, or a <a href="/models/fields#uid">UID field</a>.
        </p>

        <p>
        <pre class="language-yaml"><code>
field: ðŸ“¦.Task.id
    </code></pre>
        </p>

        <h3>Fixed Value Dynamic Paths</h3>

        <p>
            Indicates that a set of strings are valid for this path parameter.
            These must be valid URL identifiers (see more information on
            <a href="/models/fields#uid">formatting URL identifiers</a>).
        </p>

        <p>
        <pre class="language-yaml"><code>
values:
- option-one
- another-option
- etc
    </code></pre>
        </p>

        <!--
        <p>
            Fixed values paths are exposed to scripting and Mustache views
            as a boolean, indicating which value is active:
        </p>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;
&#123;&#123;% import * as Style from 'ðŸŽ¨'&#125;&#125;

&lt;img src="&#123;&#123;Style.image_background&#125;&#125;"&gt;
    </code></pre>
        </p>
        -->
    </section>

    <section>
        <h2><a name="private">Private Files</a></h2>

        <p>
            Any file prefixed with an underscore <code>_fileName.html</code>
            will never be publicly accessible, and is only used for
            server side includes or similar logic (for example SASS or Mustache partial).
        </p>

        <p>
            Similarly any files whose <b>direct</b> parent folder
            has an underscore such as <code>/_files/something.html</code>,
            will be considered private even if the files themselves are not prefixed
            with an underscore.
        </p>
    </section>

</article>

{{/content}}
{{/layout}}
