<!--TEMPLATE mustache-->
{{% partial /_layoutSide }}

{{< layoutSide}}

{{$title2}}Scripting{{/title2}}

{{$content2}}

<article>
    <header>
        <h1>Scripting Engine</h1>

        <p>
            Learn about our server-side JavaScript engine.
        </p>
    </header>

    <p>
        Stacklane uses a JavaScript <em>subset</em> for server-side logic.
        This subset is designed for speed, security, and compile time validation.
        The primary uses are <a href="/endpoints/js">endpoints</a> and <a href="/endpoints/js">suppliers</a>.
    </p>
    <p>
        The JS engine implies <code>"use strict"</code> by default, however
        its strictness goes beyond this standard setting.
        In general Stacklane will not a let a script successfully compile
        unless it can validate all properties and methods referenced actually exist.
        This is particularly helpful when it comes to referencing <a href="/models/">data models</a>.
    </p>

    <div class="article-list">
        <a href="/scripting/models">
            <h2>Models</h2>
            <p>Create, read, update, and delete.</p>
        </a>

        <a href="/scripting/queries">
            <h2>Queries</h2>
            <p>Create criteria based queries to find models.</p>
        </a>

        <a href="/scripting/suppliers">
            <h2>Suppliers</h2>
            <p>Reuse values across scripts and templates.</p>
        </a>

        <a href="/scripting/users">
            <h2>Users</h2>
            <p>Scripting with users, roles, and profiles.</p>
        </a>

        <a href="/scripting/helpers">
            <h2>Helpers</h2>
            <p>Form handling, redirects, and encoding.</p>
        </a>

        <a href="/scripting/messages">
            <h2>Messages</h2>
            <p>Messages, alerts, and notices across requests.</p>
        </a>

        <a href="/scripting/connectors">
            <h2>Connectors</h2>
            <p>Connections to third party REST APIs.</p>
        </a>
    </div>

    <h1>Restrictions</h1>
    <p>
        The following is not an exhaustive list, but covers common cases:
    </p>
    <p>
    <ul>
        <li>
            Use <code>let</code> instead of <code>var</code>.
        </li>
        <li>
            Compact function syntax only -- instead of <code>function (..) {..}</code>,
            use the equivalent compact syntax <code>(..)=>{..}</code>
        </li>
        <li>
            <code>Date</code> objects are immutable -- any of the <code>Date.setXyz</code> methods
            are not available.
        </li>
        <li>
            <code>const</code> is not supported.
        </li>
        <li>
            Free-form iteration via <code>for</code> or <code>while</code> is not allowed.
            Instead, where cases that require working on items in bulk, special case callback methods are provided.
        </li>
        <li>
            Once assigned, variables may not change their type -- this works
            <code>let x = null; x = '1'</code> (null to string), but this does not
            <code>let x = 1; x = '1'</code> (number to string).
        </li>
    </ul>
    </p>

</article>

{{/content2}}
{{/layoutSide}}

