<!--TEMPLATE mustache-->
{{% partial /_layoutSide }}

{{< layoutSide}}

{{$title2}}Scripting{{/title2}}

{{$content2}}

<article>
    <header>
        <h1>Scripting Engine</h1>

        <p>
            Learn about our server-side JavaScript engine.
        </p>
    </header>

    <p>
        Stacklane uses a JavaScript <em>subset</em> for server-side logic.
        This subset is designed for speed, security, and compile time validation.
        The primary uses are <a href="/endpoints/js">endpoints</a> and <a href="/endpoints/js">suppliers</a>.
    </p>
    <p>
        The JS engine implies <code>"use strict"</code> by default, however
        its strictness goes beyond this standard setting.
        In general Stacklane will not a let a script successfully compile
        unless it can validate all properties and methods referenced actually exist.
        This is particularly helpful when it comes to referencing <a href="/models/">data models</a>.
    </p>

    <div class="article-list">
        <a href="/scripting/models">
            <h2>Models</h2>
            <p>Create, read, update, and delete.</p>
        </a>

        <a href="/scripting/queries">
            <h2>Queries</h2>
            <p>Create criteria based queries to find models.</p>
        </a>

        <a href="/scripting/suppliers">
            <h2>Suppliers</h2>
            <p>Reuse values across scripts and templates.</p>
        </a>

        <a href="/scripting/helpers">
            <h2>Helpers</h2>
            <p>Form handling, redirects, and encoding.</p>
        </a>

        <a href="/scripting/messages">
            <h2>Messages</h2>
            <p>Messages, alerts, and notices across requests.</p>
        </a>

        <a href="/scripting/connectors">
            <h2>Connectors</h2>
            <p>Connections to third party REST APIs.</p>
        </a>
    </div>

    <h1>Differences and Restrictions</h1>
    <p>
        The following are common cases where Stacklane server-side JavaScript differs,
        or places additional restrictions.
    </p>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Type</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>var</code></td>
            <td>Use <code>let</code></td>
        </tr>
        <tr>
            <td><code>function</code></td>
            <td>Use the equivalent compact syntax <code>(..)=>{..}</code></td>
        </tr>
        <tr>
            <td><code>switch</code></td>
            <td>Use if/else</td>
        </tr>
        <tr>
            <td><code>Date</code></td>
            <td><code>Date</code> objects are immutable &mdash; any of the <code>Date.setXyz</code> methods
            are not available.</td>
        </tr>
        <tr>
            <td><code>for, while</code></td>
            <td>
                Free-form iteration is not allowed.
                In cases that require working on items in bulk,
                special case callback methods are provided.
                See <a href="/scripting/queries">query scripting methods</a>,
                which address many common cases of iteration for data models.
            </td>
        </tr>
        <tr>
            <td>Type Safety</td>
            <td>Once assigned, variables may not change their type &mdash; this works
                <code>let x = null; x = '1'</code> (null to string), but this does not
                <code>let x = 1; x = '1'</code> (number to string).</td>
        </tr>
        </tbody>
    </table>
</article>

{{/content2}}
{{/layoutSide}}

