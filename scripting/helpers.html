<!--TEMPLATE mustache-->
{{% partial /_layout }}

{{< layout}}

{{$title}}Helpers{{/title}}

{{$content}}

<article>
    <header>
        <h1>Scripting Helpers</h1>

        <p>
            Learn about available helper modules available in server-side JavaScript.
        </p>
    </header>

    <section>
        <h2><a name="url">URL Parameters</a></h2>

        <p>
            Access URL query parameters via the <code>'&'</code> module.
            If your query parameter contains a dash (or any other incompatible identifier character),
            such as <code>this-that</code>, then import it with an underscore instead: <code>this_that</code>.
        </p>

        <pre><code class="language-javascript">
/* import all at a prefix */

import * as Params from '&';

/* or, individual parameters */

import {specific, param, here as Other} from '&';
            </code></pre>
    </section>

    <section>
        <h2><a name="form">Form Parameters</a></h2>

        <p>
            Access form parameters via the <code>'form'</code> module,
            or the  <code>'form{}'</code> module.
            If your form parameter contains a dash (or any other incompatible identifier character),
            such as <code>this-that</code>, then import it with an underscore instead: <code>this_that</code>.
        </p>

        <pre><code class="language-javascript">
/* individual parameters */

import {specific, param, here as Other} from 'form';

/* import as hash or object literal */

import {Form} from 'form{}';

let theValue = Form.theParamName;
let theOtherValue = Form['theOtherParam'];
let hasAValue = Form.has('checkboxValue');
            </code></pre>
    </section>

    <section>
        <h2><a name="redirect">Redirect</a></h2>

        <p>
            The <code>Redirect</code> object is already imported.
            The following examples show the available methods and their result.
        </p>

        <pre><code class="language-javascript">
Redirect.home(); // Result: /
Redirect.dir('accounts').dir(accountId); // Result: /accounts/1234/
Redirect.dir('accounts').dir(accountId).name('settings'); // Result: /accounts/1234/settings
Redirect.home().name('place').params({this:'that');  // Result: /place?this=that
Redirect.index().name('other'); // If current request is /here/there, result: /here/other
        </code></pre>

        <p>
            Redirects may also be used as JSON values:
        </p>

        <pre><code class="language-javascript">
({redirect: Redirect.home().success('Going Home')});
        </code></pre>

        <p>
            Resulting in:
        </p>

        <pre><code class="language-javascript">
{"redirect": {"path":"/", "messages":[{"type":"success", "value": "Going Home"}]}
        </code></pre>

        <h3>Messages</h3>
        <p>
            As convenience to using the <code>Messages</code> object directly,
            messages may "go with" the redirect being built.
            For example, after adding a new Article:
        </p>

        <pre><code class="language-javascript">
import {Article} from 'ðŸ“¦';

let article = new Article().title('New');

Redirect.dir('articles')
        .dir(article.id)
        .success('New Article successfully created');
        </code></pre>

        <p>
            See <a href="/scripting/messages">Messages</a> for more information.
        </p>
    </section>

    <section>
        <h2><a name="utilities">Utilities</a></h2>
        <p>
            The utilities module is named <code>'util'</code> and exports the following objects and methods.
            All utilities are safe and efficient to use during any HTTP method.
        </p>
        <h3>Encoding</h3>
        <pre><code class="language-javascript">
import {Encoding} from 'util';

Encoding.base64Url().encode('string');
Encoding.base64Url().encodeNum(1234);
Encoding.html().escape('&lt;p&gt;html&lt;/p&gt;');
            </code></pre>

        <h3>Identicon</h3>

        <p>
            Identicons are a visual representation of any string value.
            Stacklane provides a utility to generate SVG identicons.
            These generated values may be stored in the
            <a href="/models/fields#svg-icon">SVG icon model field type</a>.
        </p>

        <pre><code class="language-javascript">
import {Identicon} from 'util';

let repeatableIcon = Identicon.of('any string value');

let randomIcon = Identicon.random();
        </code></pre>
    </section>

</article>

{{/content}}
{{/layout}}

