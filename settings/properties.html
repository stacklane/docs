<!--TEMPLATE mustache-->
{{% partial /_layout }}

{{< layout}}

{{$title}}Properties{{/title}}

{{$content}}

<article>
    <header>
        <h1>Properties</h1>

        <p>
            Properties are a purpose specific SCSS file which may define
            colors, phrases, and options for a running instance.
            Variables defined by the properties configuration file may be configured per-instance.
        </p>
    </header>

    <section>
        <h2><a name="file">File Format</a></h2>

        <p>
            The properties configuration file is a plain SCSS file that accepts values/variables only.
            Unlike regular SCSS variables, these values may be overridden when nesting the site,
            and also accessed from additional locations (server-side JavaScript, Mustache templates,
            and of course imported into other SCSS files).
        </p>
        <p>
            Create a file at the root <code>/ðŸŽ¨.scss</code> to define your properties.
            This is a limited SCSS file for variables only.
            The following SCSS data types are supported:
            string, boolean, color (hex/rgb/preset), url.
            URLs must be absolute and
            point to static images contained in the source.
        </p>
    </section>

    <section>
        <h2><a name="scss">SCSS Access</a></h2>

        <p>
            From another SCSS file, access variables defined in the properties file just
            as you would any other SCSS import:
        </p>
        <p>
        <pre class="language-css"><code>
@import '/ðŸŽ¨';

body{
  background-image: $image-background
}
    </code></pre>
        </p>
    </section>

    <section>
        <h2><a name="mustache">Mustache Access</a></h2>

        <p>
            There are several different ways to use or import properties from Mustache.
            Note that url(...) values are unwrapped to their paths only.
        </p>

        <h3>Direct Access</h3>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;

&lt;img src="&#123;&#123;ðŸŽ¨.image-background&#125;&#125;"&gt;
    </code></pre>
        </p>

        <h3>Import Alias</h3>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;
&#123;&#123;% import * as Properties from 'ðŸŽ¨'&#125;&#125;

&lt;img src="&#123;&#123;Properties.image-background&#125;&#125;"&gt;
    </code></pre>
        </p>

        <h3>Specific Variable(s)</h3>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;
&#123;&#123;% import {image-background} from 'ðŸŽ¨'&#125;&#125;

&lt;img src="&#123;&#123;image-background&#125;&#125;"&gt;
    </code></pre>
        </p>
    </section>


    <section>
        <h2><a name="javascript">JavaScript Access</a></h2>

        <p>
            A SCSS/CSS friendly convention is to use
            dashes for variables names such as <code>$color-primary</code>.  If you choose
            this naming convention, simply be aware that from JavaScript that same variable
            is accessed with an underscore: <code>Properties.color_primary</code>
            Alternatively keep the dash using bracket syntax:  <code>Properties['color-primary']</code>
        </p>
        <p>
            From a server side JavaScript file import the properties:
        </p>
        <p>
        <pre class="language-javascript"><code>
import * as Properties from 'ðŸŽ¨';

if (Properties['some-boolean-option']){
   ...
}
    </code></pre>
        </p>
        <p>
            In JavaScript, string variables should be accessed as methods:
        </p>
        <p>
        <pre class="language-javascript"><code>
import * as Properties from 'ðŸŽ¨';

let msg = Properties.hello();
    </code></pre>
        </p>
    </section>

    <section>
        <h2><a name="categories">Categories</a></h2>

        <p>
            There are several preset categories to group by properties by:
            <code>style</code>, <code>messages</code>, and <code>options</code>.
            Category presets provide a hint to the Stacklane console UI on how to
            group and display properties to a user configuring them.
            If no category is specified then <code>style</code> is the default.
        </p>

        <pre class="language-css"><code>
/**
 * @category messages
 */

$ui-home: 'Home';
$ui-sign-in: 'Sign In';

/**
 * @category style
 */

$bg-color: aliceblue;
    </code></pre>
    </section>

    <section>
        <h2><a name="cases">Use Cases</a></h2>

        <h3>Instance-Specific Options</h3>

        <p>
            Certain capabilities may be optional,
            and checked in JavaScript or Mustache logic.
        </p>
        <pre class="language-css"><code>
$use-new-feature: true;
    </code></pre>

        <h3>Interface Messages</h3>

        <p>
            Consider centralizing your interface messages/phrases into the properties file.
            This will later allow localizing/translating these phrases
            in separate, language-specific properties files.
            For example:
        </p>
        <p>
        <pre class="language-css"><code>
$ui-home: 'Home';
$ui-sign-in: 'Sign In';
    </code></pre>
        </p>
        <p>
            Then in a Mustache template:
        </p>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;

&lt;span&gt;&#123;&#123; ðŸŽ¨.ui-home &#125;&#125;&lt;/span&gt;
&lt;span&gt;&#123;&#123; ðŸŽ¨.ui-sign-in &#125;&#125;&lt;/span&gt;
    </code></pre>
        </p>
        <p>
            Arguments are supported, for example:
        </p>
        <pre class="language-html"><code> <!-- NOTE, can't use CSS lang because brackets aren't interpreted in the string right -->
$ui-hello: 'Hello, {0}';
    </code></pre>
        </p>
        <p>
            Then in a Mustache template:
        </p>
        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;
&#123;&#123; % import {Me} from 'ðŸ‘¤' &#125;&#125;

&lt;span&gt;&#123;&#123; ðŸŽ¨.ui-hello Me.name &#125;&#125;&lt;/span&gt;
    </code></pre>
        </p>
        <p>
            Results in:
        </p>
        <pre class="language-html"><code>
Hello, John
    </code></pre>
        </p>
        <p>
            Argument formatting options are based on the <a href="https://ssl.icu-project.org/apiref/icu4j/com/ibm/icu/text/MessageFormat.html">ICU project</a>.
        </p>

        <h3>Modes</h3>
        <p>
            Consider using boolean values to provide advanced configuration or "modes" to a site.
            Because the values are accessible from all locations, you can go deeper than CSS alone.
            For example in <code>/ðŸŽ¨.scss</code>:
        </p>
        <p>
        <pre class="language-css"><code>
$my-mode: true;
        </code></pre>
        </p>

        <p>
           Then in a Mustache template:
        </p>

        <p>
        <pre class="language-html"><code>
&lt;!--TEMPLATE mustache--&gt;
&#123;&#123;% import {my-mode} from 'ðŸŽ¨'&#125;&#125;

&#123;&#123;#my-mode&#125;&#125;
Using special mode.
&#123;&#123;/my-mode&#125;&#125;
        </code></pre>
        </p>
    </section>

    <section>
        <h2><a name="formating">Formatting</a></h2>

        <h3>Quotes</h3>

        <p>
            The straight single quote / apostrophe (U+0027) denotes literal characters.
            Therefore in a message it should not be used for visible text.
            Instead use left curly (U+2018) and right curly (U+2018) single quotes.
            For example on a Mac, these are <code>option ]</code> and <code>shift option ]</code>.
        </p>

        <pre class="language-css"><code>
$action-added: 'You just added â€˜{0}â€™';
        </code></pre>
    </section>
</article>

{{/content}}
{{/layout}}